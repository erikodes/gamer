<ion-header class="header">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-buttons slot="start">
                <ion-back-button></ion-back-button>
            </ion-buttons>
        </ion-buttons>
        <ion-title>@{{user?.username}}</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="openMenu()">
                <ion-icon name="ellipsis-horizontal"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-header collapse="condense" class="ion-no-border">
        <ion-toolbar class="ion-no-padding user">
            <div class="banner" *ngIf="user?.banner" style="background-image: url({{user?.banner}})"></div>
            <div class="banner" *ngIf="!user?.banner"
                style="background-image: url('assets/images/default-banner.png');"></div>
            <ion-avatar>
                <img [src]="user?.profilePicture ? user?.profilePicture : 'assets/images/default-user.png'" />
            </ion-avatar>
            <h3 class="username-lbl">
                @{{user?.username}}
                <ion-badge color="primary" *ngIf="user?.type">{{user?.type}}</ion-badge>
            </h3>
        </ion-toolbar>
    </ion-header>
    <ion-grid class="ion-padding" fixed>
        <ion-row class="ion-text-center">
            <ion-col size="4">
                <h6>500</h6>
                <p class="muted">Siguiendo</p>
            </ion-col>
            <ion-col size="4">
                <h6>{{user?.followers}}</h6>
                <p class="muted">Seguidores</p>
            </ion-col>
            <ion-col size="4">
                <h6>500</h6>
                <p class="muted">Clips</p>
            </ion-col>
        </ion-row>
    </ion-grid>
    <div class="d-flex ion-padding-horizontal ion-padding-bottom">
        <ion-button class="ion-no-margin w--100" expand="block" [color]="user?.isFollowed ? 'light' : 'primary'"
            (click)="followUser()">
            {{user?.isFollowed ? 'Dejar de seguir' : 'Seguir'}}
        </ion-button>
        <ion-button class="ion-no-margin social-btn" fill="outline">
            <ion-icon slot="icon-only" name="logo-tiktok"></ion-icon>
        </ion-button>
        <ion-button class="ion-no-margin social-btn" fill="outline">
            <ion-icon slot="icon-only" name="logo-twitter"></ion-icon>
        </ion-button>
        <ion-button class="ion-no-margin social-btn" fill="outline">
            <ion-icon slot="icon-only" name="logo-instagram"></ion-icon>
        </ion-button>
    </div>
    <div class="container ion-padding">
        <div class="title d-flex ion-align-items-center">
            <div>
                <h6>Best of @{{user?.username}}</h6>
                <p>Top clips from the past month</p>
            </div>
            <ion-button fill="clear" color="dark" class="ion-no-padding">
                <ion-icon name="chevron-forward-outline" slot="icon-only"></ion-icon>
            </ion-button>
        </div>
        <ion-slides class="clips" [options]="{slidesPerView: 'auto', spaceBetween: 16}">
            <ion-slide *ngFor="let clip of clips; let i = index" routerLink="/clip/{{clip.$key}}">
                <video [src]="clip.video.url" id="video-{{i}}" loop autoplay muted></video>
                <div class="gradient"></div>
                <ion-button class="menu-btn" fill="clear">
                    <ion-icon name="ellipsis-vertical"></ion-icon>
                </ion-button>
                <div class="likes">
                    <ion-icon class="icon-thumbs-up"></ion-icon>
                    <p>{{clip.likes }}</p>
                </div>
                <div class="bottom-data">
                    <ion-badge>
                        <ion-icon name="copy-outline"></ion-icon>
                        WTF Moments
                    </ion-badge>
                    <p class="wrap wrap--2">{{clip.title}}</p>
                </div>
            </ion-slide>
        </ion-slides>
        <div class="games">
            <div class="title">
                <h3>Juegos recomendados</h3>
            </div>
            <ion-slides class="games-slider" [options]="{slidesPerView: 'auto', spaceBetween: 15}">
                <ion-slide *ngFor="let game of games; let i = index">
                    <div class="category">
                        <img src="{{game.art}}" alt="">
                        <p class="wrap wrap--1">{{game.name}}</p>
                    </div>
                </ion-slide>
            </ion-slides>
        </div>
    </div>
</ion-content>